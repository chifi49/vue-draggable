{"remainingRequest":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fisigma/Documents/Amazon Photos Downloads/github-projects/vue-draggable/vue-draggable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fisigma/Documents/Amazon Photos Downloads/github-projects/vue-draggable/vue-draggable.vue","mtime":1604992520000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHR7CiAgICBuYW1lOid2dWUtZHJhZ2dhYmxlJywKICAgIHByb3BzOnsKICAgICAgICBheGlzOnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0Oid4eScKICAgICAgICB9LAogICAgICAgIG9mZnNldDp7IC8vaG93IG1hbnkgcGl4ZWxzIHRvIG1vdmUgdG8gY291bnQgaXQgYXMgZHJhZ2dpbmcKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6TnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OjEwCiAgICAgICAgfSwKICAgICAgICB0YXJnZXQ6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6JycKICAgICAgICB9LAogICAgICAgIGRyYWdoYW5kbGU6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6JycgLy9hIHNlbGVjdG9yIGZyb20gdGhlIHNsb3Qgb3IgdGhlIHRhcmdldAogICAgICAgIH0sCiAgICAgICAgY2xvbmU6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OmZhbHNlCiAgICAgICAgfSwKICAgICAgICBjbG9uZV9vcGFjaXR5OnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6TnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OjAuNQogICAgICAgIH0sCiAgICAgICAgZHJvcGFyZWFzOnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6QXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ2hvc3Q6eyAvL2RyYWcgYnV0IGFmdGVyIHlvdSBkcm9wLCByZXR1cm4gdG8gaXRzIGZpcnN0IHBvc2l0aW9uCiAgICAgICAgICAgIHJlcXVpcmVkOmZhbHNlLAogICAgICAgICAgICB0eXBlOkJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UKICAgICAgICB9LAogICAgICAgIGNvbnRhaW5tZW50OnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0Oidib2R5JwogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZG9tRWxlbWVudDpudWxsLCAvL3doaWNoIG9uZSB0byBkcmFnCiAgICAgICAgICAgIGRyYWdFbGVtZW50Om51bGwsCiAgICAgICAgICAgIGNsb25lRWxlbWVudDpudWxsLAogICAgICAgICAgICBkb21IYW5kbGU6bnVsbCwgLy9mcm9tIHdoZXJlIHRvIGRyYWcKICAgICAgICAgICAgY29udGFpbm1lbnRFbGVtZW50Om51bGwsCiAgICAgICAgICAgIGNvbnRhaW5tZW50UmVjdDpudWxsLAogICAgICAgICAgICBvcmlnaW5hbF90YXJnZXQ6bnVsbCwKICAgICAgICAgICAgb3JnaW5hbF9oYW5kbGU6bnVsbCwKICAgICAgICAgICAgaXNEcmFnZ2luZzpmYWxzZSwKICAgICAgICAgICAgZHJhZ1N0YXJ0WDotMSwKICAgICAgICAgICAgZHJhZ1N0YXJ0WTotMSwKICAgICAgICAgICAgZWxlbWVudFg6LTEsCiAgICAgICAgICAgIGVsZW1uZW50WTotMSwKICAgICAgICAgICAgZWxlbWVudERpZmZYOjAsCiAgICAgICAgICAgIGVsZW1lbnREaWZmWTowLAogICAgICAgICAgICBpc0Ryb3BwYWJsZTpmYWxzZSwgLy8gaWYgd2UgaGF2ZSBkcm9wYXJlYXMgdGhhbiBpdCBpcyBhIGRyb3BwYWJsZQogICAgICAgICAgICBkcm9wcGVkX2FyZWE6bnVsbCwvL3RoZSBhYm91dCB0byBkcm9wIGFyZWEKICAgICAgICAgICAgZHJvcF9hcmVhczpbXSwKICAgICAgICAgICAgY3NzUG9zaXRpb246JycKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgZHJhZ1N0YXJ0ZWQoZXZlbnQpewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmRyb3BwZWRfYXJlYSA9IG51bGw7CgogICAgICAgICAgICB0aGlzLmRyYWdTdGFydFggPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoPjA/ZXZlbnQudG91Y2hlc1swXS5wYWdlWDpldmVudC5wYWdlWDsKICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRZID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aD4wP2V2ZW50LnRvdWNoZXNbMF0ucGFnZVk6ZXZlbnQucGFnZVk7CiAgICAgICAgICAgIHRoaXMuJHZkcmFnZ2FibGUuY3VycmVudCA9IHRoaXM7CgogICAgICAgICAgICB2YXIgZGltID0gdGhpcy5kc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgdGhpcy5lbGVtZW50WCA9IGRpbS5sZWZ0OwogICAgICAgICAgICB0aGlzLmVsZW1lbnRZID0gZGltLnRvcDsKICAgICAgICAgICAgdGhpcy5lbGVtZW50RGlmZlggPSBldmVudC5wYWdlWCAtIGRpbS5sZWZ0OwogICAgICAgICAgICB0aGlzLmVsZW1lbnREaWZmWSA9IGV2ZW50LnBhZ2VZIC0gZGltLnRvcDsKCiAgICAgICAgICAgIHRoaXMuY29udGFpbm1lbnRSZWN0ID0gdGhpcy5jb250YWlubWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMuZHJhZ01vdmUpCiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsdGhpcy5kcmFnTW92ZSk7CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLHRoaXMuZHJhZ0VuZCk7CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJyx0aGlzLmRyYWdFbmQpOwogICAgICAgIH0sCiAgICAgICAgZHJhZ01vdmUoZXZlbnQpewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgdGhpcy5kcm9wcGVkX2FyZWEgPSBudWxsOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHBhZ2VYID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aD4wP2V2ZW50LnRvdWNoZXNbMF0ucGFnZVg6ZXZlbnQucGFnZVg7CiAgICAgICAgICAgIHZhciBwYWdlWSA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGg+MD9ldmVudC50b3VjaGVzWzBdLnBhZ2VZOmV2ZW50LnBhZ2VZOwogICAgICAgICAgICB2YXIgZGlmZlggPSBwYWdlWCAtIHRoaXMuZHJhZ1N0YXJ0WDsKICAgICAgICAgICAgdmFyIGRpZmZZID0gcGFnZVkgLSB0aGlzLmRyYWdTdGFydFk7CiAgICAgICAgICAgIGlmKHRoaXMuYXhpcz09J3h5JyAmJiAoTWF0aC5hYnMoZGlmZlgpPnRoaXMub2Zmc2V0IHx8IE1hdGguYWJzKGRpZmZZKT50aGlzLm9mZnNldCApICl7CiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmF4aXM9PSd4JyAmJiBNYXRoLmFicyhkaWZmWCk+dGhpcy5vZmZzZXQpewogICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5heGlzPT0neScgJiYgTWF0aC5hYnMoZGlmZlkpPnRoaXMub2Zmc2V0KXsKICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYodGhpcy5pc0RyYWdnaW5nKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuZHJhZ0VsZW1lbnQ9PW51bGwpewogICAgICAgICAgICAgICAgICAgIC8vZmlyc3QgdGltZSB3ZSBlbnRlciBoZXJlIHdoZW4gaXNEcmFnZ2luZyBiZWNhbWUgdHJ1ZSBmb3IgZmlyc3QgdGltZQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RHJvcEFyZWFzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmNsb25lICYmIHRoaXMuZHJhZ0VsZW1lbnQ9PW51bGwpewogICAgICAgICAgICAgICAgICAgIHZhciBkaW0gPSB0aGlzLmRzRG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQgPSB0aGlzLmRzRG9tLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSB0aGlzLmNsb25lX29wYWNpdHk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUubGVmdCA9IGRpbS5sZWZ0KydweCc7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudC5zdHlsZS50b3AgPSBkaW0udG9wKydweCc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyYWdFbGVtZW50KTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZHJhZ1N0YXJ0ZWQnLHtpbnN0YW5jZTp0aGlzLGRyYWdFbGVtZW50OiB0aGlzLmRyYWdFbGVtZW50LCBjbG9uZTogdGhpcy5jbG9uZX0pCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmRyYWdFbGVtZW50PT1udWxsKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50ID0gdGhpcy5kc0RvbTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdkcmFnU3RhcnRlZCcse2luc3RhbmNlOnRoaXMsZHJhZ0VsZW1lbnQ6IHRoaXMuZHJhZ0VsZW1lbnQsIGNsb25lOnRoaXMuY2xvbmV9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnOwoKICAgICAgICAgICAgICAgIHZhciBmaW5hbFggPSBwYWdlWCAtIHRoaXMuZWxlbWVudERpZmZYOwogICAgICAgICAgICAgICAgdmFyIGZpbmFsWSA9IHBhZ2VZIC0gdGhpcy5lbGVtZW50RGlmZlk7CgogICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgY29udGFpbm1lbnQsIGlmIHdlIGFyZSBpbnNpZGUgdGhlIGJvdW5kcyBvZiBwZXJtaXR0ZWQgZHJhZ2dpbmcgYXJlYQogICAgICAgICAgICAgICAgaWYoZmluYWxYPHRoaXMuY29udGFpbm1lbnRSZWN0LmxlZnQgfHwgZmluYWxYK3RoaXMuZHJhZ0VsZW1lbnQub2Zmc2V0V2lkdGg+dGhpcy5jb250YWlubWVudFJlY3QubGVmdCt0aGlzLmNvbnRhaW5tZW50UmVjdC53aWR0aAogICAgICAgICAgICB8fCBmaW5hbFk8dGhpcy5jb250YWlubWVudFJlY3QudG9wIHx8IGZpbmFsWSt0aGlzLmRyYWdFbGVtZW50Lm9mZnNldEhlaWdodD50aGlzLmNvbnRhaW5tZW50UmVjdC50b3ArdGhpcy5jb250YWlubWVudFJlY3QuaGVpZ2h0KXsKICAgICAgICAgICAgICAgIHJldHVybjsvL2RvIG5vdCBkcmFnIG91dHNpZGUgY29udGFpbm1lbnQKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRpZmZYLCBkaWZmWSk7CiAgICAgICAgICAgICAgICBpZih0aGlzLmF4aXM9PSd4eScgfHwgdGhpcy5heGlzPT0neCcpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUubGVmdCA9IGZpbmFsWCsncHgnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5heGlzPT0neHknIHx8IHRoaXMuYXhpcz09J3knKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnRvcCA9IGZpbmFsWSsncHgnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lzRHJhZ2dpbmcnLHtpbnN0YW5jZTp0aGlzLCBkcmFnRWxlbWVudDogdGhpcy5kcmFnRWxlbWVudCwgY2xvbmU6IHRoaXMuY2xvbmUsIGNvb3Jkczp7eDpmaW5hbFgseTpmaW5hbFl9fSkKCiAgICAgICAgICAgICAgICBpZih0aGlzLmlzRHJvcHBhYmxlKXsKICAgICAgICAgICAgICAgICAgICAvL2ZpbmQgaW4gd2hpY2ggZHJvcHBhYmxlIHdlIGFyZSBjb250YWluZWQKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGQ9MDtkPHRoaXMuZHJvcF9hcmVhcy5sZW5ndGg7ZCsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3BfYXJlYSA9IHRoaXMuZHJvcF9hcmVhc1tkXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkcm9wX2FyZWEpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dhYmxlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZmluYWxYLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBmaW5hbFksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5kcmFnRWxlbWVudC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5kcmFnRWxlbWVudC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY29udGFpbnMoZHJvcF9hcmVhLGRyYWdnYWJsZSkpeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BfYXJlYS5lbC5jbGFzc0xpc3QuYWRkKCd2dWUtZHJvcHBpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcHBlZF9hcmVhID0gZHJvcF9hcmVhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaXNEcm9wcGluZycse2luc3RhbmNlOnRoaXMsZHJhZ0VsZW1lbnQ6dGhpcy5kcmFnRWxlbWVudCxjbG9uZTp0aGlzLmNsb25lLGFyZWFFbGVtZW50OiBkcm9wX2FyZWEuZWx9KSAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wX2FyZWEuZWwuY2xhc3NMaXN0LnJlbW92ZSgndnVlLWRyb3BwaW5nJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkcmFnRW5kKGV2ZW50KXsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhldmVudCk7CiAgICAgICAgICAgIHZhciBkcmFnX2VsZW1lbnQgPSB0aGlzLmRyYWdFbGVtZW50OwogICAgICAgICAgICBpZih0aGlzLmNsb25lKXsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kcmFnRWxlbWVudCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50ID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5kc0RvbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgICAgICAgICB2YXIgcGFnZVggPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoPjA/ZXZlbnQudG91Y2hlc1swXS5wYWdlWDpldmVudC5wYWdlWDsKICAgICAgICAgICAgdmFyIHBhZ2VZID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aD4wP2V2ZW50LnRvdWNoZXNbMF0ucGFnZVk6ZXZlbnQucGFnZVk7CgogICAgICAgICAgICBpZih0aGlzLmF4aXM9PSd4eScgfHwgdGhpcy5heGlzPT0neCcpewogICAgICAgICAgICAgICAgdGhpcy5kc0RvbS5zdHlsZS5sZWZ0ID0gcGFnZVggLSB0aGlzLmVsZW1lbnREaWZmWCsncHgnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuYXhpcz09J3h5JyB8fCB0aGlzLmF4aXM9PSd5Jyl7CiAgICAgICAgICAgICAgICB0aGlzLmRzRG9tLnN0eWxlLnRvcCA9IHBhZ2VZIC0gdGhpcy5lbGVtZW50RGlmZlkrJ3B4JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0aGlzLmlzRHJvcHBhYmxlICYmIHRoaXMuZHJvcHBlZF9hcmVhIT1udWxsKXsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lzRHJvcHBlZCcse2luc3RhbmNlOnRoaXMsYXJlYUVsZW1lbnQ6dGhpcy5kcm9wcGVkX2FyZWEuZWwsZHJhZ0VsZW1lbnQ6ZHJhZ19lbGVtZW50LGNsb25lOnRoaXMuY2xvbmV9KQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Ryb3BwZWQgdG9vJyk7CiAgICAgICAgICAgICAgICB0aGlzLmRyb3BwZWRfYXJlYS5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2dWUtZHJvcHBpbmcnKTsKICAgICAgICAgICAgICAgIHRoaXMuZHJvcHBlZF9hcmVhLmVsLmFwcGVuZENoaWxkKHRoaXMuZHNEb20pOwogICAgICAgICAgICAgICAgdGhpcy5kc0RvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMuY3NzUG9zaXRpb247CiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNEcm9wcGFibGUpewogICAgICAgICAgICAgICAgLy9yZXR1cm4gdG8gcHJldmlvdXMgcG9zaXRpb24KICAgICAgICAgICAgICAgIHRoaXMuZHNEb20uc3R5bGUucG9zaXRpb24gPSB0aGlzLmNzc1Bvc2l0aW9uOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaXNEcm9wcGFibGUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZHJvcHBlZF9hcmVhID0gbnVsbDsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLmRyYWdNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsdGhpcy5kcmFnRW5kKQogICAgICAgIH0sCiAgICAgICAgc2V0dXBFdmVudEhhbmRsZXJzKCl7CiAgICAgICAgICAgIHRoaXMuZHNEb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyx0aGlzLmRyYWdTdGFydGVkKQogICAgICAgICAgICB0aGlzLmRzRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLHRoaXMuZHJhZ1N0YXJ0ZWQpOwogICAgICAgICAgICB0aGlzLmRzRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsKGV2ZW50KT0+ewogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfSApCiAgICAgICAgfSwKICAgICAgICBnZXRJZCgpewogICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHJldHVybiAndmRyYWdnYWJsZS0nK2QuZ2V0TWlsbGlzZW9uZHMoKTsKICAgICAgICB9LAogICAgICAgIGdldERyb3BBcmVhcygpewogICAgICAgICAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIGlmKHRoaXMuZHJvcGFyZWFzLmxlbmd0aD09MCl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICB2YXIgYXJlYXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZHJvcGFyZWFzLmpvaW4oJywnKSk7CiAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFyZWFzLChlbCk9PnsKICAgICAgICAgICAgICAgdmFyIGRyb3AgPSB7CiAgICAgICAgICAgICAgICAgICBlbDogZWwsCiAgICAgICAgICAgICAgICAgICBkaW06IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgIHRoaXMuZHJvcF9hcmVhcy5wdXNoKGRyb3ApOwogICAgICAgICAgIH0pCiAgICAgICAgICAgaWYodGhpcy5kcm9wX2FyZWFzLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IHRydWU7CiAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29udGFpbnMoZHJvcHBhYmxlLGRyYWdnYWJsZSl7CiAgICAgICAgICAgIHZhciBkaW0gPSBkcm9wcGFibGUuZGltOwogICAgICAgICAgIAogICAgICAgICAgICBpZihkaW0ubGVmdDxkcmFnZ2FibGUubGVmdCsoZHJhZ2dhYmxlLndpZHRoLzIpICYmIGRpbS5sZWZ0K2RpbS53aWR0aD5kcmFnZ2FibGUubGVmdCsoZHJhZ2dhYmxlLndpZHRoLzIpIAogICAgICAgICAgICAmJiBkaW0udG9wPGRyYWdnYWJsZS50b3ArKGRyYWdnYWJsZS5oZWlnaHQvMikgJiYgZGltLnRvcCtkaW0uaGVpZ2h0PmRyYWdnYWJsZS50b3ArKGRyYWdnYWJsZS5oZWlnaHQvMikpewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIGlmKHR5cGVvZiB0aGlzLiR2ZHJhZ2dhYmxlPT0ndW5kZWZpbmVkJyl7CiAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJHZkcmFnZ2FibGUgPSBWdWUub2JzZXJ2YWJsZSh7CiAgICAgICAgICAgICAgICBjcmVhdGlvbnM6MCwKICAgICAgICAgICAgICAgIGluc3RhbmNlczowLAogICAgICAgICAgICAgICAgaXNEcmFnZ2luZzpmYWxzZSwKICAgICAgICAgICAgICAgIGN1cnJlbnQ6bnVsbAogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICB0aGlzLiR2ZHJhZ2dhYmxlLmNyZWF0aW9ucysrOwogICAgICAgIHRoaXMuJHZkcmFnZ2FibGUuaW5zdGFuY2VzKys7CiAgICB9LAogICAgZGVzdHJveSgpewogICAgICAgIHRoaXMuJHZkcmFnZ2FibGUuaW5zdGFuY2VzLS07CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudEhhbmRsZXJzKCk7CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kc2xvdHMuZGVmYXVsdCk7CiAgICAgICAgaWYodHlwZW9mIHRoaXMuJHNsb3RzLmRlZmF1bHQhPT0ndW5kZWZpbmVkJyAmJiB0aGlzLiRzbG90cy5kZWZhdWx0Lmxlbmd0aD4wKXsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRzbG90cy5kZWZhdWx0KTsKICAgICAgICAgICAgdGhpcy5kc0RvbSA9IHRoaXMuJHNsb3RzLmRlZmF1bHRbMF0uZWxtOwogICAgICAgIH1lbHNlIGlmKHRoaXMudGFyZ2V0IT0nJyAmJiB0eXBlb2YgdGhpcy50YXJnZXQ9PSdzdHJpbmcnKXsKICAgICAgICAgICAgdGhpcy5kc0RvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy50YXJnZXQpCiAgICAgICAgfQogICAgICAgIGlmKHRoaXMuZHJhZ2hhbmRsZSE9JycgJiYgdGhpcy5kc0RvbSE9bnVsbCl7CiAgICAgICAgICAgIHRoaXMuZG9tSGFuZGxlID0gdGhpcy5kc0RvbS5xdWVyeVNlbGVjdG9yKHRoaXMuZHJhZ2hhbmRsZSk7CiAgICAgICAgfQogICAgICAgIGlmKHRoaXMuZHJvcGFyZWFzLmxlbmd0aD4wKXsKICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHRoaXMuY29udGFpbm1lbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbnRhaW5tZW50KTsKICAgICAgICAKICAgICAgICB0aGlzLmNzc1Bvc2l0aW9uID0gdGhpcy5kc0RvbS5zdHlsZS5wb3NpdGlvbjsKICAgICAgICAKICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZHNEb20pOwogICAgICAgIHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKCk7CiAgICB9Cn0K"},{"version":3,"sources":["vue-draggable.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA","file":"vue-draggable.vue","sourceRoot":".","sourcesContent":["<template>\n    <span>\n        <slot></slot>\n    </span>\n</template>\n<script>\nimport Vue from 'vue';\nexport default{\n    name:'vue-draggable',\n    props:{\n        axis:{\n            required:false,\n            type:String,\n            default:'xy'\n        },\n        offset:{ //how many pixels to move to count it as dragging\n            required:false,\n            type:Number,\n            default:10\n        },\n        target:{\n            required:false,\n            type:String,\n            default:''\n        },\n        draghandle:{\n            required:false,\n            type:String,\n            default:'' //a selector from the slot or the target\n        },\n        clone:{\n            required:false,\n            type:Boolean,\n            default:false\n        },\n        clone_opacity:{\n            required:false,\n            type:Number,\n            default:0.5\n        },\n        dropareas:{\n            required:false,\n            type:Array,\n            default:function(){\n                return [];\n            }\n        },\n        ghost:{ //drag but after you drop, return to its first position\n            required:false,\n            type:Boolean,\n            default:false\n        },\n        containment:{\n            required:false,\n            type:String,\n            default:'body'\n        }\n    },\n    data(){\n        return {\n            domElement:null, //which one to drag\n            dragElement:null,\n            cloneElement:null,\n            domHandle:null, //from where to drag\n            containmentElement:null,\n            containmentRect:null,\n            original_target:null,\n            orginal_handle:null,\n            isDragging:false,\n            dragStartX:-1,\n            dragStartY:-1,\n            elementX:-1,\n            elemnentY:-1,\n            elementDiffX:0,\n            elementDiffY:0,\n            isDroppable:false, // if we have dropareas than it is a droppable\n            dropped_area:null,//the about to drop area\n            drop_areas:[],\n            cssPosition:''\n        }\n    },\n    methods:{\n        dragStarted(event){\n            event.preventDefault();\n\n            this.isDroppable = false;\n            this.dropped_area = null;\n\n            this.dragStartX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            this.dragStartY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n            this.$vdraggable.current = this;\n\n            var dim = this.dsDom.getBoundingClientRect();\n            this.elementX = dim.left;\n            this.elementY = dim.top;\n            this.elementDiffX = event.pageX - dim.left;\n            this.elementDiffY = event.pageY - dim.top;\n\n            this.containmentRect = this.containmentElement.getBoundingClientRect();\n\n            document.addEventListener('mousemove',this.dragMove)\n            document.addEventListener('touchmove',this.dragMove);\n            document.addEventListener('mouseup',this.dragEnd);\n            document.addEventListener('touchend',this.dragEnd);\n        },\n        dragMove(event){\n            event.preventDefault();\n\n            this.dropped_area = null;\n            \n            var pageX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            var pageY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n            var diffX = pageX - this.dragStartX;\n            var diffY = pageY - this.dragStartY;\n            if(this.axis=='xy' && (Math.abs(diffX)>this.offset || Math.abs(diffY)>this.offset ) ){\n                this.isDragging = true;\n            }else if(this.axis=='x' && Math.abs(diffX)>this.offset){\n                this.isDragging = true;\n            }else if(this.axis=='y' && Math.abs(diffY)>this.offset){\n                this.isDragging = true;\n            }\n            if(this.isDragging){\n                if(this.dragElement==null){\n                    //first time we enter here when isDragging became true for first time\n                    \n                    this.getDropAreas();\n                }\n                if(this.clone && this.dragElement==null){\n                    var dim = this.dsDom.getBoundingClientRect();\n                    this.dragElement = this.dsDom.cloneNode(true);\n                    this.dragElement.style.opacity = this.clone_opacity;\n                    this.dragElement.style.position='absolute';\n                    this.dragElement.style.left = dim.left+'px';\n                    this.dragElement.style.top = dim.top+'px';\n                    document.body.appendChild(this.dragElement);\n\n                    this.$emit('dragStarted',{instance:this,dragElement: this.dragElement, clone: this.clone})\n                }else if(this.dragElement==null){\n                    this.dragElement = this.dsDom;\n                    this.$emit('dragStarted',{instance:this,dragElement: this.dragElement, clone:this.clone})\n                }\n                this.dragElement.style.position='absolute';\n\n                var finalX = pageX - this.elementDiffX;\n                var finalY = pageY - this.elementDiffY;\n\n                //check the containment, if we are inside the bounds of permitted dragging area\n                if(finalX<this.containmentRect.left || finalX+this.dragElement.offsetWidth>this.containmentRect.left+this.containmentRect.width\n            || finalY<this.containmentRect.top || finalY+this.dragElement.offsetHeight>this.containmentRect.top+this.containmentRect.height){\n                return;//do not drag outside containment\n            }\n\n\n                //console.log(diffX, diffY);\n                if(this.axis=='xy' || this.axis=='x'){\n                    this.dragElement.style.left = finalX+'px';\n                }\n                if(this.axis=='xy' || this.axis=='y'){\n                    this.dragElement.style.top = finalY+'px';\n                }\n\n                this.$emit('isDragging',{instance:this, dragElement: this.dragElement, clone: this.clone, coords:{x:finalX,y:finalY}})\n\n                if(this.isDroppable){\n                    //find in which droppable we are contained\n                    for(var d=0;d<this.drop_areas.length;d++){\n                        var drop_area = this.drop_areas[d];\n                        //console.log(drop_area);\n                        var draggable = {\n                            left: finalX,\n                            top: finalY,\n                            width: this.dragElement.offsetWidth,\n                            height: this.dragElement.offsetHeight\n                        };\n                        \n                        if(this.contains(drop_area,draggable)){ \n                            drop_area.el.classList.add('vue-dropping');\n                            this.dropped_area = drop_area;\n                            this.$emit('isDropping',{instance:this,dragElement:this.dragElement,clone:this.clone,areaElement: drop_area.el})    \n                        }else{\n                            drop_area.el.classList.remove('vue-dropping')\n                        }\n                    }\n                }\n                \n            }\n        },\n        dragEnd(event){\n            event.preventDefault();\n            //console.log(event);\n            var drag_element = this.dragElement;\n            if(this.clone){\n                document.body.removeChild(this.dragElement);\n                \n            }\n            this.dragElement = null;\n            this.dsDom.style.position = 'absolute';\n\n            var pageX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            var pageY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n\n            if(this.axis=='xy' || this.axis=='x'){\n                this.dsDom.style.left = pageX - this.elementDiffX+'px';\n            }\n            if(this.axis=='xy' || this.axis=='y'){\n                this.dsDom.style.top = pageY - this.elementDiffY+'px';\n            }\n            if(this.isDroppable && this.dropped_area!=null){\n                this.$emit('isDropped',{instance:this,areaElement:this.dropped_area.el,dragElement:drag_element,clone:this.clone})\n                console.log('dropped too');\n                this.dropped_area.el.classList.remove('vue-dropping');\n                this.dropped_area.el.appendChild(this.dsDom);\n                this.dsDom.style.position = this.cssPosition;\n            }else if(this.isDroppable){\n                //return to previous position\n                this.dsDom.style.position = this.cssPosition;\n            }\n            this.isDroppable = false;\n            this.isDragging = false;\n            this.dropped_area = null;\n            document.removeEventListener('mousemove',this.dragMove);\n            document.removeEventListener('mouseup',this.dragEnd)\n        },\n        setupEventHandlers(){\n            this.dsDom.addEventListener('mousedown',this.dragStarted)\n            this.dsDom.addEventListener('touchstart',this.dragStarted);\n            this.dsDom.addEventListener('dragstart',(event)=>{\n                event.preventDefault();\n            } )\n        },\n        getId(){\n            var d = new Date();\n            return 'vdraggable-'+d.getMilliseonds();\n        },\n        getDropAreas(){\n            this.isDroppable = false;\n            if(this.dropareas.length==0){\n                return;\n            }\n           var areas = document.querySelectorAll(this.dropareas.join(','));\n           [].forEach.call(areas,(el)=>{\n               var drop = {\n                   el: el,\n                   dim: el.getBoundingClientRect()\n               };\n               this.drop_areas.push(drop);\n           })\n           if(this.drop_areas.length>0){\n               this.isDroppable = true;\n           }\n        },\n        contains(droppable,draggable){\n            var dim = droppable.dim;\n           \n            if(dim.left<draggable.left+(draggable.width/2) && dim.left+dim.width>draggable.left+(draggable.width/2) \n            && dim.top<draggable.top+(draggable.height/2) && dim.top+dim.height>draggable.top+(draggable.height/2)){\n                return true;\n            }\n            \n            return false;\n        }\n    },\n    created(){\n        if(typeof this.$vdraggable=='undefined'){\n            Vue.prototype.$vdraggable = Vue.observable({\n                creations:0,\n                instances:0,\n                isDragging:false,\n                current:null\n            })\n        }\n        this.$vdraggable.creations++;\n        this.$vdraggable.instances++;\n    },\n    destroy(){\n        this.$vdraggable.instances--;\n        this.removeEventHandlers();\n    },\n    mounted(){\n        //console.log(this.$slots.default);\n        if(typeof this.$slots.default!=='undefined' && this.$slots.default.length>0){\n            //console.log(this.$slots.default);\n            this.dsDom = this.$slots.default[0].elm;\n        }else if(this.target!='' && typeof this.target=='string'){\n            this.dsDom = document.querySelector(this.target)\n        }\n        if(this.draghandle!='' && this.dsDom!=null){\n            this.domHandle = this.dsDom.querySelector(this.draghandle);\n        }\n        if(this.dropareas.length>0){\n            this.isDroppable = true;\n        }\n        \n        this.containmentElement = document.querySelector(this.containment);\n        \n        this.cssPosition = this.dsDom.style.position;\n        \n        //console.log(this.dsDom);\n        this.setupEventHandlers();\n    }\n}\n</script>"]}]}