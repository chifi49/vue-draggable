{"remainingRequest":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fisigma/Documents/Amazon Photos Downloads/github-projects/vue-draggable/vue-draggable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fisigma/Documents/Amazon Photos Downloads/github-projects/vue-draggable/vue-draggable.vue","mtime":1604953709000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fisigma/.nvm/versions/node/v12.16.1/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHR7CiAgICBuYW1lOid2dWUtZHJhZ2dhYmxlJywKICAgIHByb3BzOnsKICAgICAgICBheGlzOnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0Oid4eScKICAgICAgICB9LAogICAgICAgIG9mZnNldDp7IC8vaG93IG1hbnkgcGl4ZWxzIHRvIG1vdmUgdG8gY291bnQgaXQgYXMgZHJhZ2dpbmcKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6TnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OjEwCiAgICAgICAgfSwKICAgICAgICB0YXJnZXQ6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6JycKICAgICAgICB9LAogICAgICAgIGRyYWdoYW5kbGU6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6JycgLy9hIHNlbGVjdG9yIGZyb20gdGhlIHNsb3Qgb3IgdGhlIHRhcmdldAogICAgICAgIH0sCiAgICAgICAgY2xvbmU6ewogICAgICAgICAgICByZXF1aXJlZDpmYWxzZSwKICAgICAgICAgICAgdHlwZTpCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OmZhbHNlCiAgICAgICAgfSwKICAgICAgICBjbG9uZV9vcGFjaXR5OnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6TnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OjAuNQogICAgICAgIH0sCiAgICAgICAgZHJvcGFyZWFzOnsKICAgICAgICAgICAgcmVxdWlyZWQ6ZmFsc2UsCiAgICAgICAgICAgIHR5cGU6QXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ2hvc3Q6eyAvL2RyYWcgYnV0IGFmdGVyIHlvdSBkcm9wLCByZXR1cm4gdG8gaXRzIGZpcnN0IHBvc2l0aW9uCiAgICAgICAgICAgIHJlcXVpcmVkOmZhbHNlLAogICAgICAgICAgICB0eXBlOkJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRvbUVsZW1lbnQ6bnVsbCwgLy93aGljaCBvbmUgdG8gZHJhZwogICAgICAgICAgICBkcmFnRWxlbWVudDpudWxsLAogICAgICAgICAgICBjbG9uZUVsZW1lbnQ6bnVsbCwKICAgICAgICAgICAgZG9tSGFuZGxlOm51bGwsIC8vZnJvbSB3aGVyZSB0byBkcmFnCiAgICAgICAgICAgIG9yaWdpbmFsX3RhcmdldDpudWxsLAogICAgICAgICAgICBvcmdpbmFsX2hhbmRsZTpudWxsLAogICAgICAgICAgICBpc0RyYWdnaW5nOmZhbHNlLAogICAgICAgICAgICBkcmFnU3RhcnRYOi0xLAogICAgICAgICAgICBkcmFnU3RhcnRZOi0xLAogICAgICAgICAgICBlbGVtZW50WDotMSwKICAgICAgICAgICAgZWxlbW5lbnRZOi0xLAogICAgICAgICAgICBlbGVtZW50RGlmZlg6MCwKICAgICAgICAgICAgZWxlbWVudERpZmZZOjAsCiAgICAgICAgICAgIGlzRHJvcHBhYmxlOmZhbHNlLCAvLyBpZiB3ZSBoYXZlIGRyb3BhcmVhcyB0aGFuIGl0IGlzIGEgZHJvcHBhYmxlCiAgICAgICAgICAgIGRyb3BwZWRfYXJlYTpudWxsLC8vdGhlIGFib3V0IHRvIGRyb3AgYXJlYQogICAgICAgICAgICBkcm9wX2FyZWFzOltdLAogICAgICAgICAgICBjc3NQb3NpdGlvbjonJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBkcmFnU3RhcnRlZChldmVudCl7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZHJvcHBlZF9hcmVhID0gbnVsbDsKCiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0WCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGg+MD9ldmVudC50b3VjaGVzWzBdLnBhZ2VYOmV2ZW50LnBhZ2VYOwogICAgICAgICAgICB0aGlzLmRyYWdTdGFydFkgPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoPjA/ZXZlbnQudG91Y2hlc1swXS5wYWdlWTpldmVudC5wYWdlWTsKICAgICAgICAgICAgdGhpcy4kdmRyYWdnYWJsZS5jdXJyZW50ID0gdGhpczsKCiAgICAgICAgICAgIHZhciBkaW0gPSB0aGlzLmRzRG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICB0aGlzLmVsZW1lbnRYID0gZGltLmxlZnQ7CiAgICAgICAgICAgIHRoaXMuZWxlbWVudFkgPSBkaW0udG9wOwogICAgICAgICAgICB0aGlzLmVsZW1lbnREaWZmWCA9IGV2ZW50LnBhZ2VYIC0gZGltLmxlZnQ7CiAgICAgICAgICAgIHRoaXMuZWxlbWVudERpZmZZID0gZXZlbnQucGFnZVkgLSBkaW0udG9wOwoKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLmRyYWdNb3ZlKQogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLHRoaXMuZHJhZ01vdmUpOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyx0aGlzLmRyYWdFbmQpOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsdGhpcy5kcmFnRW5kKTsKICAgICAgICB9LAogICAgICAgIGRyYWdNb3ZlKGV2ZW50KXsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICAgIHRoaXMuZHJvcHBlZF9hcmVhID0gbnVsbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBwYWdlWCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGg+MD9ldmVudC50b3VjaGVzWzBdLnBhZ2VYOmV2ZW50LnBhZ2VYOwogICAgICAgICAgICB2YXIgcGFnZVkgPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoPjA/ZXZlbnQudG91Y2hlc1swXS5wYWdlWTpldmVudC5wYWdlWTsKICAgICAgICAgICAgdmFyIGRpZmZYID0gcGFnZVggLSB0aGlzLmRyYWdTdGFydFg7CiAgICAgICAgICAgIHZhciBkaWZmWSA9IHBhZ2VZIC0gdGhpcy5kcmFnU3RhcnRZOwogICAgICAgICAgICBpZih0aGlzLmF4aXM9PSd4eScgJiYgKE1hdGguYWJzKGRpZmZYKT50aGlzLm9mZnNldCB8fCBNYXRoLmFicyhkaWZmWSk+dGhpcy5vZmZzZXQgKSApewogICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5heGlzPT0neCcgJiYgTWF0aC5hYnMoZGlmZlgpPnRoaXMub2Zmc2V0KXsKICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuYXhpcz09J3knICYmIE1hdGguYWJzKGRpZmZZKT50aGlzLm9mZnNldCl7CiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuaXNEcmFnZ2luZyl7CiAgICAgICAgICAgICAgICBpZih0aGlzLmRyYWdFbGVtZW50PT1udWxsKXsKICAgICAgICAgICAgICAgICAgICAvL2ZpcnN0IHRpbWUgd2UgZW50ZXIgaGVyZSB3aGVuIGlzRHJhZ2dpbmcgYmVjYW1lIHRydWUgZm9yIGZpcnN0IHRpbWUKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERyb3BBcmVhcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5jbG9uZSAmJiB0aGlzLmRyYWdFbGVtZW50PT1udWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgZGltID0gdGhpcy5kc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50ID0gdGhpcy5kc0RvbS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gdGhpcy5jbG9uZV9vcGFjaXR5OwogICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUucG9zaXRpb249J2Fic29sdXRlJzsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50LnN0eWxlLmxlZnQgPSBkaW0ubGVmdCsncHgnOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUudG9wID0gZGltLnRvcCsncHgnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWxlbWVudCk7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2RyYWdTdGFydGVkJyx7aW5zdGFuY2U6dGhpcyxkcmFnRWxlbWVudDogdGhpcy5kcmFnRWxlbWVudCwgY2xvbmU6IHRoaXMuY2xvbmV9KQogICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5kcmFnRWxlbWVudD09bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudCA9IHRoaXMuZHNEb207CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZHJhZ1N0YXJ0ZWQnLHtpbnN0YW5jZTp0aGlzLGRyYWdFbGVtZW50OiB0aGlzLmRyYWdFbGVtZW50LCBjbG9uZTp0aGlzLmNsb25lfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUucG9zaXRpb249J2Fic29sdXRlJzsKCiAgICAgICAgICAgICAgICB2YXIgZmluYWxYID0gcGFnZVggLSB0aGlzLmVsZW1lbnREaWZmWDsKICAgICAgICAgICAgICAgIHZhciBmaW5hbFkgPSBwYWdlWSAtIHRoaXMuZWxlbWVudERpZmZZOwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkaWZmWCwgZGlmZlkpOwogICAgICAgICAgICAgICAgaWYodGhpcy5heGlzPT0neHknIHx8IHRoaXMuYXhpcz09J3gnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50LnN0eWxlLmxlZnQgPSBmaW5hbFgrJ3B4JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMuYXhpcz09J3h5JyB8fCB0aGlzLmF4aXM9PSd5Jyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnRWxlbWVudC5zdHlsZS50b3AgPSBmaW5hbFkrJ3B4JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdpc0RyYWdnaW5nJyx7aW5zdGFuY2U6dGhpcywgZHJhZ0VsZW1lbnQ6IHRoaXMuZHJhZ0VsZW1lbnQsIGNsb25lOiB0aGlzLmNsb25lLCBjb29yZHM6e3g6ZmluYWxYLHk6ZmluYWxZfX0pCgogICAgICAgICAgICAgICAgaWYodGhpcy5pc0Ryb3BwYWJsZSl7CiAgICAgICAgICAgICAgICAgICAgLy9maW5kIGluIHdoaWNoIGRyb3BwYWJsZSB3ZSBhcmUgY29udGFpbmVkCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBkPTA7ZDx0aGlzLmRyb3BfYXJlYXMubGVuZ3RoO2QrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wX2FyZWEgPSB0aGlzLmRyb3BfYXJlYXNbZF07CiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZHJvcF9hcmVhKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdnYWJsZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGZpbmFsWCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZmluYWxZLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuZHJhZ0VsZW1lbnQub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZHJhZ0VsZW1lbnQub2Zmc2V0SGVpZ2h0CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNvbnRhaW5zKGRyb3BfYXJlYSxkcmFnZ2FibGUpKXsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wX2FyZWEuZWwuY2xhc3NMaXN0LmFkZCgndnVlLWRyb3BwaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3BwZWRfYXJlYSA9IGRyb3BfYXJlYTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lzRHJvcHBpbmcnLHtpbnN0YW5jZTp0aGlzLGRyYWdFbGVtZW50OnRoaXMuZHJhZ0VsZW1lbnQsY2xvbmU6dGhpcy5jbG9uZSxhcmVhRWxlbWVudDogZHJvcF9hcmVhLmVsfSkgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcF9hcmVhLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Z1ZS1kcm9wcGluZycpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZHJhZ0VuZChldmVudCl7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgICAgICBpZih0aGlzLmNsb25lKXsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kcmFnRWxlbWVudCk7CiAgICAgICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50ID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRzRG9tLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKCiAgICAgICAgICAgIHZhciBwYWdlWCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGg+MD9ldmVudC50b3VjaGVzWzBdLnBhZ2VYOmV2ZW50LnBhZ2VYOwogICAgICAgICAgICB2YXIgcGFnZVkgPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoPjA/ZXZlbnQudG91Y2hlc1swXS5wYWdlWTpldmVudC5wYWdlWTsKCiAgICAgICAgICAgIGlmKHRoaXMuYXhpcz09J3h5JyB8fCB0aGlzLmF4aXM9PSd4Jyl7CiAgICAgICAgICAgICAgICB0aGlzLmRzRG9tLnN0eWxlLmxlZnQgPSBwYWdlWCAtIHRoaXMuZWxlbWVudERpZmZYKydweCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYodGhpcy5heGlzPT0neHknIHx8IHRoaXMuYXhpcz09J3knKXsKICAgICAgICAgICAgICAgIHRoaXMuZHNEb20uc3R5bGUudG9wID0gcGFnZVkgLSB0aGlzLmVsZW1lbnREaWZmWSsncHgnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuaXNEcm9wcGFibGUgJiYgdGhpcy5kcm9wcGVkX2FyZWEhPW51bGwpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Ryb3BwZWQgdG9vJyk7CiAgICAgICAgICAgICAgICB0aGlzLmRyb3BwZWRfYXJlYS5lbC5hcHBlbmRDaGlsZCh0aGlzLmRzRG9tKTsKICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5pc0Ryb3BwYWJsZSl7CiAgICAgICAgICAgICAgICAvL3JldHVybiB0byBwcmV2aW91cyBwb3NpdGlvbgogICAgICAgICAgICAgICAgdGhpcy5kc0RvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMuY3NzUG9zaXRpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLmRyYWdNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsdGhpcy5kcmFnRW5kKQogICAgICAgIH0sCiAgICAgICAgc2V0dXBFdmVudEhhbmRsZXJzKCl7CiAgICAgICAgICAgIHRoaXMuZHNEb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyx0aGlzLmRyYWdTdGFydGVkKQogICAgICAgICAgICB0aGlzLmRzRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLHRoaXMuZHJhZ1N0YXJ0ZWQpOwogICAgICAgICAgICB0aGlzLmRzRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsKGV2ZW50KT0+ewogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfSApCiAgICAgICAgfSwKICAgICAgICBnZXRJZCgpewogICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHJldHVybiAndmRyYWdnYWJsZS0nK2QuZ2V0TWlsbGlzZW9uZHMoKTsKICAgICAgICB9LAogICAgICAgIGdldERyb3BBcmVhcygpewogICAgICAgICAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIGlmKHRoaXMuZHJvcGFyZWFzLmxlbmd0aD09MCl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICB2YXIgYXJlYXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZHJvcGFyZWFzLmpvaW4oJywnKSk7CiAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFyZWFzLChlbCk9PnsKICAgICAgICAgICAgICAgdmFyIGRyb3AgPSB7CiAgICAgICAgICAgICAgICAgICBlbDogZWwsCiAgICAgICAgICAgICAgICAgICBkaW06IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgIHRoaXMuZHJvcF9hcmVhcy5wdXNoKGRyb3ApOwogICAgICAgICAgIH0pCiAgICAgICAgICAgaWYodGhpcy5kcm9wX2FyZWFzLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IHRydWU7CiAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29udGFpbnMoZHJvcHBhYmxlLGRyYWdnYWJsZSl7CiAgICAgICAgICAgIHZhciBkaW0gPSBkcm9wcGFibGUuZGltOwogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRyb3BwYWJsZS4pCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGltLCBkcmFnZ2FibGUpOwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRyYWdnYWJsZSk7CiAgICAgICAgICAgIGlmKGRpbS5sZWZ0PGRyYWdnYWJsZS5sZWZ0K2RyYWdnYWJsZS53aWR0aCAmJiBkaW0ubGVmdCtkaW0ud2lkdGg+ZHJhZ2dhYmxlLmxlZnQgCiAgICAgICAgICAgICYmIGRpbS50b3A8ZHJhZ2dhYmxlLnRvcCtkcmFnZ2FibGUuaGVpZ2h0ICYmIGRpbS50b3ArZGltLmhlaWdodD5kcmFnZ2FibGUudG9wKXsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCAoIGRpbS5sZWZ0PGRyYWdnYWJsZS5sZWZ0K2RyYWdnYWJsZS53aWR0aCAmJiBkaW0ubGVmdCtkaW0ub2Zmc2V0V2lkdGg+ZHJhZ2dhYmxlLmxlZnQrZHJhZ2dhYmxlLndpZHRoICkKICAgICAgICAgICAgfHwgICggZGltLmxlZnQrZHJvcHBhYmxlLm9mZnNldFdpZHRoPCBkaW0ubGVmdCkgKXsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIGlmKHR5cGVvZiB0aGlzLiR2ZHJhZ2dhYmxlPT0ndW5kZWZpbmVkJyl7CiAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJHZkcmFnZ2FibGUgPSBWdWUub2JzZXJ2YWJsZSh7CiAgICAgICAgICAgICAgICBjcmVhdGlvbnM6MCwKICAgICAgICAgICAgICAgIGluc3RhbmNlczowLAogICAgICAgICAgICAgICAgaXNEcmFnZ2luZzpmYWxzZSwKICAgICAgICAgICAgICAgIGN1cnJlbnQ6bnVsbAogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICB0aGlzLiR2ZHJhZ2dhYmxlLmNyZWF0aW9ucysrOwogICAgICAgIHRoaXMuJHZkcmFnZ2FibGUuaW5zdGFuY2VzKys7CiAgICB9LAogICAgZGVzdHJveSgpewogICAgICAgIHRoaXMuJHZkcmFnZ2FibGUuaW5zdGFuY2VzLS07CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudEhhbmRsZXJzKCk7CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kc2xvdHMuZGVmYXVsdCk7CiAgICAgICAgaWYodHlwZW9mIHRoaXMuJHNsb3RzLmRlZmF1bHQhPT0ndW5kZWZpbmVkJyAmJiB0aGlzLiRzbG90cy5kZWZhdWx0Lmxlbmd0aD4wKXsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRzbG90cy5kZWZhdWx0KTsKICAgICAgICAgICAgdGhpcy5kc0RvbSA9IHRoaXMuJHNsb3RzLmRlZmF1bHRbMF0uZWxtOwogICAgICAgIH1lbHNlIGlmKHRoaXMudGFyZ2V0IT0nJyAmJiB0eXBlb2YgdGhpcy50YXJnZXQ9PSdzdHJpbmcnKXsKICAgICAgICAgICAgdGhpcy5kc0RvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy50YXJnZXQpCiAgICAgICAgfQogICAgICAgIGlmKHRoaXMuZHJhZ2hhbmRsZSE9JycgJiYgdGhpcy5kc0RvbSE9bnVsbCl7CiAgICAgICAgICAgIHRoaXMuZG9tSGFuZGxlID0gdGhpcy5kc0RvbS5xdWVyeVNlbGVjdG9yKHRoaXMuZHJhZ2hhbmRsZSk7CiAgICAgICAgfQogICAgICAgIGlmKHRoaXMuZHJvcGFyZWFzLmxlbmd0aD4wKXsKICAgICAgICAgICAgdGhpcy5pc0Ryb3BwYWJsZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHRoaXMuY3NzUG9zaXRpb24gPSB0aGlzLmRzRG9tLnN0eWxlLnBvc2l0aW9uOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3NzUG9zaXRpb24pOwogICAgICAgIC8vY29uc29sZS5sb2codGhpcy5kc0RvbSk7CiAgICAgICAgdGhpcy5zZXR1cEV2ZW50SGFuZGxlcnMoKTsKICAgIH0KfQo="},{"version":3,"sources":["vue-draggable.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vue-draggable.vue","sourceRoot":".","sourcesContent":["<template>\n    <span>\n        <slot></slot>\n    </span>\n</template>\n<script>\nimport Vue from 'vue';\nexport default{\n    name:'vue-draggable',\n    props:{\n        axis:{\n            required:false,\n            type:String,\n            default:'xy'\n        },\n        offset:{ //how many pixels to move to count it as dragging\n            required:false,\n            type:Number,\n            default:10\n        },\n        target:{\n            required:false,\n            type:String,\n            default:''\n        },\n        draghandle:{\n            required:false,\n            type:String,\n            default:'' //a selector from the slot or the target\n        },\n        clone:{\n            required:false,\n            type:Boolean,\n            default:false\n        },\n        clone_opacity:{\n            required:false,\n            type:Number,\n            default:0.5\n        },\n        dropareas:{\n            required:false,\n            type:Array,\n            default:function(){\n                return [];\n            }\n        },\n        ghost:{ //drag but after you drop, return to its first position\n            required:false,\n            type:Boolean,\n            default:false\n        }\n    },\n    data(){\n        return {\n            domElement:null, //which one to drag\n            dragElement:null,\n            cloneElement:null,\n            domHandle:null, //from where to drag\n            original_target:null,\n            orginal_handle:null,\n            isDragging:false,\n            dragStartX:-1,\n            dragStartY:-1,\n            elementX:-1,\n            elemnentY:-1,\n            elementDiffX:0,\n            elementDiffY:0,\n            isDroppable:false, // if we have dropareas than it is a droppable\n            dropped_area:null,//the about to drop area\n            drop_areas:[],\n            cssPosition:''\n        }\n    },\n    methods:{\n        dragStarted(event){\n            event.preventDefault();\n\n            this.isDroppable = false;\n            this.dropped_area = null;\n\n            this.dragStartX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            this.dragStartY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n            this.$vdraggable.current = this;\n\n            var dim = this.dsDom.getBoundingClientRect();\n            this.elementX = dim.left;\n            this.elementY = dim.top;\n            this.elementDiffX = event.pageX - dim.left;\n            this.elementDiffY = event.pageY - dim.top;\n\n            document.addEventListener('mousemove',this.dragMove)\n            document.addEventListener('touchmove',this.dragMove);\n            document.addEventListener('mouseup',this.dragEnd);\n            document.addEventListener('touchend',this.dragEnd);\n        },\n        dragMove(event){\n            event.preventDefault();\n\n            this.dropped_area = null;\n            \n            var pageX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            var pageY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n            var diffX = pageX - this.dragStartX;\n            var diffY = pageY - this.dragStartY;\n            if(this.axis=='xy' && (Math.abs(diffX)>this.offset || Math.abs(diffY)>this.offset ) ){\n                this.isDragging = true;\n            }else if(this.axis=='x' && Math.abs(diffX)>this.offset){\n                this.isDragging = true;\n            }else if(this.axis=='y' && Math.abs(diffY)>this.offset){\n                this.isDragging = true;\n            }\n            if(this.isDragging){\n                if(this.dragElement==null){\n                    //first time we enter here when isDragging became true for first time\n                    \n                    this.getDropAreas();\n                }\n                if(this.clone && this.dragElement==null){\n                    var dim = this.dsDom.getBoundingClientRect();\n                    this.dragElement = this.dsDom.cloneNode(true);\n                    this.dragElement.style.opacity = this.clone_opacity;\n                    this.dragElement.style.position='absolute';\n                    this.dragElement.style.left = dim.left+'px';\n                    this.dragElement.style.top = dim.top+'px';\n                    document.body.appendChild(this.dragElement);\n\n                    this.$emit('dragStarted',{instance:this,dragElement: this.dragElement, clone: this.clone})\n                }else if(this.dragElement==null){\n                    this.dragElement = this.dsDom;\n                    this.$emit('dragStarted',{instance:this,dragElement: this.dragElement, clone:this.clone})\n                }\n                this.dragElement.style.position='absolute';\n\n                var finalX = pageX - this.elementDiffX;\n                var finalY = pageY - this.elementDiffY;\n                //console.log(diffX, diffY);\n                if(this.axis=='xy' || this.axis=='x'){\n                    this.dragElement.style.left = finalX+'px';\n                }\n                if(this.axis=='xy' || this.axis=='y'){\n                    this.dragElement.style.top = finalY+'px';\n                }\n\n                this.$emit('isDragging',{instance:this, dragElement: this.dragElement, clone: this.clone, coords:{x:finalX,y:finalY}})\n\n                if(this.isDroppable){\n                    //find in which droppable we are contained\n                    for(var d=0;d<this.drop_areas.length;d++){\n                        var drop_area = this.drop_areas[d];\n                        //console.log(drop_area);\n                        var draggable = {\n                            left: finalX,\n                            top: finalY,\n                            width: this.dragElement.offsetWidth,\n                            height: this.dragElement.offsetHeight\n                        };\n                        \n                        if(this.contains(drop_area,draggable)){ \n                            drop_area.el.classList.add('vue-dropping');\n                            this.dropped_area = drop_area;\n                            this.$emit('isDropping',{instance:this,dragElement:this.dragElement,clone:this.clone,areaElement: drop_area.el})    \n                        }else{\n                            drop_area.el.classList.remove('vue-dropping')\n                        }\n                    }\n                }\n                \n            }\n        },\n        dragEnd(event){\n            event.preventDefault();\n            //console.log(event);\n            if(this.clone){\n                document.body.removeChild(this.dragElement);\n                this.dragElement = null;\n            }\n            this.dsDom.style.position = 'absolute';\n\n            var pageX = event.touches && event.touches.length>0?event.touches[0].pageX:event.pageX;\n            var pageY = event.touches && event.touches.length>0?event.touches[0].pageY:event.pageY;\n\n            if(this.axis=='xy' || this.axis=='x'){\n                this.dsDom.style.left = pageX - this.elementDiffX+'px';\n            }\n            if(this.axis=='xy' || this.axis=='y'){\n                this.dsDom.style.top = pageY - this.elementDiffY+'px';\n            }\n            if(this.isDroppable && this.dropped_area!=null){\n                console.log('dropped too');\n                this.dropped_area.el.appendChild(this.dsDom);\n            }else if(this.isDroppable){\n                //return to previous position\n                this.dsDom.style.position = this.cssPosition;\n            }\n            this.isDroppable = false;\n            this.isDragging = false;\n            document.removeEventListener('mousemove',this.dragMove);\n            document.removeEventListener('mouseup',this.dragEnd)\n        },\n        setupEventHandlers(){\n            this.dsDom.addEventListener('mousedown',this.dragStarted)\n            this.dsDom.addEventListener('touchstart',this.dragStarted);\n            this.dsDom.addEventListener('dragstart',(event)=>{\n                event.preventDefault();\n            } )\n        },\n        getId(){\n            var d = new Date();\n            return 'vdraggable-'+d.getMilliseonds();\n        },\n        getDropAreas(){\n            this.isDroppable = false;\n            if(this.dropareas.length==0){\n                return;\n            }\n           var areas = document.querySelectorAll(this.dropareas.join(','));\n           [].forEach.call(areas,(el)=>{\n               var drop = {\n                   el: el,\n                   dim: el.getBoundingClientRect()\n               };\n               this.drop_areas.push(drop);\n           })\n           if(this.drop_areas.length>0){\n               this.isDroppable = true;\n           }\n        },\n        contains(droppable,draggable){\n            var dim = droppable.dim;\n           // console.log(droppable.)\n            //console.log(dim, draggable);\n            //console.log(draggable);\n            if(dim.left<draggable.left+draggable.width && dim.left+dim.width>draggable.left \n            && dim.top<draggable.top+draggable.height && dim.top+dim.height>draggable.top){\n                return true;\n            }\n            if( ( dim.left<draggable.left+draggable.width && dim.left+dim.offsetWidth>draggable.left+draggable.width )\n            ||  ( dim.left+droppable.offsetWidth< dim.left) ){\n                return true;\n            }\n            return false;\n        }\n    },\n    created(){\n        if(typeof this.$vdraggable=='undefined'){\n            Vue.prototype.$vdraggable = Vue.observable({\n                creations:0,\n                instances:0,\n                isDragging:false,\n                current:null\n            })\n        }\n        this.$vdraggable.creations++;\n        this.$vdraggable.instances++;\n    },\n    destroy(){\n        this.$vdraggable.instances--;\n        this.removeEventHandlers();\n    },\n    mounted(){\n        //console.log(this.$slots.default);\n        if(typeof this.$slots.default!=='undefined' && this.$slots.default.length>0){\n            //console.log(this.$slots.default);\n            this.dsDom = this.$slots.default[0].elm;\n        }else if(this.target!='' && typeof this.target=='string'){\n            this.dsDom = document.querySelector(this.target)\n        }\n        if(this.draghandle!='' && this.dsDom!=null){\n            this.domHandle = this.dsDom.querySelector(this.draghandle);\n        }\n        if(this.dropareas.length>0){\n            this.isDroppable = true;\n        }\n        this.cssPosition = this.dsDom.style.position;\n        console.log(this.cssPosition);\n        //console.log(this.dsDom);\n        this.setupEventHandlers();\n    }\n}\n</script>"]}]}